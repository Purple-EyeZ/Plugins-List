<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plugins Admin</title>
    <link rel="icon" type="image/svg" href="../assets/revenge-dark.svg">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
</head>

<body>
    <div class="fixed-banner" id="fixedBanner">
        <button id="searchButton" class="search-button">
            <i class="material-symbols-rounded">search</i>
        </button>
        <input type="text" id="fixedSearchBar" class="search-bar hidden" placeholder="Search something...">
        <button type="button" id="clearFixedSearch" class="clear-button" style="display: none;">&times;</button>
    </div>

    <div class="menu-container">
        <button id="menuButton" class="menu-button">
            <span class="material-symbols-rounded">menu</span> Menu
        </button>
        <div id="dropdownMenu" class="dropdown-menu">
            <ul>
                <li><a href="../"><span class="material-symbols-rounded">home</span> Home</a></li>
                <li><a href="./About/"><span class="material-symbols-rounded">info</span> About</a></li>
            </ul>
        </div>
    </div>
    
    <h1>
        <img src="../assets/revenge-dark.svg" alt="Logo">
        Plugins Admin Panel
    </h1>

    <div class="search-container">
        <div class="search-bar-wrapper">
            <input type="text" id="search-bar" class="search-bar" placeholder="Search plugins...">
            <button type="button" id="clearSearch" class="clear-button" style="display: none;">&times;</button>
        </div>
        <div id="searchSubtext" class="search-subtext"></div>
    </div>

    <div class="admin-controls">
        <div class="add-plugin-form-container">
            <h2>Add New Plugin</h2>
            <form id="add-plugin-form">
                <div class="form-group">
                    <label for="new-plugin-url">Plugin URL:</label>
                    <input type="text" id="new-plugin-url" required placeholder="https://example.com/plugin/">
                </div>
                <button type="submit" class="admin-button">Add Plugin</button>
            </form>
        </div>

        <div class="admin-actions">
            <button id="save-changes" class="admin-button primary">Save Changes</button>
            <button id="filter-broken" class="admin-button">Show Only Broken</button>
            <button id="filter-warning" class="admin-button">Show Only Warning</button>
            <button id="filter-all" class="admin-button active">Show All</button>
            <button id="check-plugins" class="admin-button">
                <span class="material-symbols-rounded">refresh</span> Update Manifests
            </button>
        </div>
    </div>

    <div class="plugins-count">
        <span id="total-count">0</span> plugins total |
        <span id="working-count">0</span> working |
        <span id="warning-count">0</span> warning |
        <span id="broken-count">0</span> broken
    </div>

    <div id="plugins-list" class="admin-plugins-list">
        <div class="loading">Loading plugins...</div>
    </div>

    <div id="toast" class="admin-toast"></div>

    <!-- Back to Top Button -->
    <button id="backToTopButton" class="back-to-top">
        <span class="material-symbols-rounded">arrow_upward</span>
    </button>

    <script type="module" src="../scripts/admin.js"></script>
    <script type="module" src="../scripts/search.js"></script>
</body>

</html>